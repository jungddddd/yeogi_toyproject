<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>board</title>
    <style>
    body {
        font-family: Arial, sans-serif;
    }
    /*닫기버튼*/
    .close {
        width:50px;
        height: 50px;
        position: fixed;
        top: 40px; 
        right: 40px; }
    .close:before, .close:after {position: absolute;left: 15px;content:' ';height: 40px;width: 2px;background-color: #42424D;}
    .close:before {transform: rotate(45deg);}
    .close:after {transform: rotate(-45deg);}
    
    input::placeholder {
        color: #888;
        font-size: 18px; /* 크기 조절 */
        font-weight: 500;
    }

    #title, #mission {
        display: flex;
        align-items: center;
        padding: 20px 0px 20px 20px;
        width: 800px;
        height: 70px;
        border:none;
        background-color: #F5F6F6;
        border-radius: 6px;
        margin: 20px auto; 
        font-size: 18px;
        font-weight: 600;
        box-sizing: border-box;
    }
    .inputTodo {
        display: flex;
        align-items: center;
        width: 800px;
        border:none;
        border-radius: 6px;
        margin: 20px auto 50px auto ;
    }

    .inputTodo input {
        width: 100%;
        padding: 20px 0px;
        height: 25px;
        border: 2px solid #7881F3;
        border-radius: 6px;
        margin-right: 30px;
        padding-left: 20px;
        font-size: 18px;
        font-weight: 600;
    }
    .inputTodo button {
        color: #ffffff;
        background-color: #4B53EF;
        font-size: 24px;
        width : 10%;
        padding: 20px 0px;
        height: 100%;
        border: none;
        border-radius: 6px;
    }
    /*todo*/
    .toggle-container {
        width: 800px;
        border: 1px solid #ddd;
        background-color: #F5F6F6;
        border-radius: 6px;
        margin: 20px auto;
        
    }

    .toggle-header {
        display: flex;
        align-items: center;
        background-color: #DFDFFC;
        padding: 20px;
        cursor: pointer;
        user-select: none;
        border: 1.5px solid #A7B0F7;
        border-radius: 6px;
    }

    .toggle-header input {
        margin-right: 10px;
        width: 18px;
        height: 18px;
        border: 1px solid #A7A7B4;
        accent-color: #2724EA;
        border-radius: 3px;
        outline: none;
        cursor: pointer;
    }

    .toggle-header label {
        flex: 1;
        cursor: pointer;
        font-size: 18px;
        font-weight:600;
    }


    .toggle-icon {
        font-size: 20px;
        color: #7881F3;
        margin-left: 10px;
        transform: rotate(0deg);
        transition: transform 0.2s;
    }

    .toggle-content {
        display: none;
        padding: 10px;
        background-color: #F5F6F6;
        border-radius: 6px;
    }

    .editable-container {
        position: relative;
        width: 760px;
        min-height: 50px;
        background-color: #f5f5f5;
        border-radius: 6px;
        padding: 10px;
    }

    .editable-placeholder {
        position: absolute;
        top: 10px;
        left: 10px;
        color: #888;
        font-size: 16px;
        font-weight: 500;
        pointer-events: none;
    }

    .editable {
        width: 100%;
        border: none;
        outline: none;
        background: transparent;
        resize: none;
        overflow: hidden;
        min-height: 50px;
        word-wrap: break-word;
        font-size: 16px;
        font-weight: 500;
    }
    #deleteBoard {
        display:flex;
        justify-content: center;
        padding: 10px 20px;
        margin: 40px auto;
        border: none;
        font-size: 18px;
        border-radius: 5px;
        color:#F5F6F6;
        background-color: #7881F3;
    }

    </style>
</head>
<body>
    <div>
        <div class="close"></div>
        <input id="title" type="text" placeholder="Title" style="margin-top: 110px">
        <input id="mission" type="text" placeholder="Mission">
        <div class="inputTodo">
            <input type="text" id="todoInput" placeholder="Enter your To do">
            <button id="addTodo">+</button>
        </div>
        
        <div id="container">
        </div>
        <button id="deleteBoard">delete</button>
    </div>
    <script>
        document.querySelector('.close').addEventListener('click',function(){
            window.location.href="todo.html";
        })

        
        document.getElementById("addTodo").addEventListener("click", function() {
        
          // 입력된 내용 가져오기
          var todoText = document.getElementById("todoInput").value.trim();
          // 입력된 내용이 비어있지 않은 경우에만 실행
          if (todoText !== "") {
            // 새로운 div 요소를 생성합니다.
            var newDiv = document.createElement("div");
            newDiv.classList.add("toggle-container");

            newDiv.innerHTML = `
                <div class="toggle-header">
                    <input type="checkbox" id="toggleCheckbox">
                    <label for="toggleCheckbox">${todoText}</label>
                    <div class="toggle-icon" id="toggleIcon">▼</div>
                </div>
                <div class="toggle-content" id="toggleContent">
                    <div class="editable-container">
                        <div class="editable-placeholder" id="editablePlaceholder">Enter your Contents...</div>
                        <div class="editable" contenteditable="true" id="editable"></div>
                    </div>
                </div>
            `;

        // 컨테이너에 새로운 div를 추가합니다.
        document.getElementById("container").appendChild(newDiv);

        // 입력 후 input 초기화
        document.getElementById("todoInput").value = "";
        }

        // 토글 효과를 적용합니다.
        var toggleCheckbox = newDiv.querySelector("#toggleCheckbox");
        var toggleContent = newDiv.querySelector("#toggleContent");
        var toggleIcon = newDiv.querySelector("#toggleIcon");
        var toggleLabel = newDiv.querySelector("label[for='toggleCheckbox']");

        toggleCheckbox.addEventListener('change', function() {
            // 체크박스가 체크되었는지 확인
            if (toggleCheckbox.checked) {
                // 체크박스가 체크되었으면 라벨에 스타일 적용
                toggleLabel.style.textDecoration = 'line-through';
                toggleLabel.style.color = '#8B8B9C';
            } else {
                // 체크박스가 해제되었으면 라벨 스타일 제거
                toggleLabel.style.textDecoration = 'none';
                toggleLabel.style.color = '';
            }
        });

        toggleIcon.addEventListener('click', function() {
        if (toggleContent.style.display === 'block') {
            toggleContent.style.display = 'none';
            toggleIcon.style.transform = 'rotate(0deg)';
        } else {
            toggleContent.style.display = 'block';
            toggleIcon.style.transform = 'rotate(180deg)';
        }
        });


        // 편집 가능한 내용을 처리합니다.
        var editable = newDiv.querySelector("#editable");
        var editablePlaceholder = newDiv.querySelector("#editablePlaceholder");

        editable.addEventListener("input", function() {
        if (editable.innerText.trim() === "") {
            editablePlaceholder.style.display = "block";
        } else {
            editablePlaceholder.style.display = "none";
        }
        });

        // 초기 상태 설정
        if (editable.innerText.trim() === "") {
        editablePlaceholder.style.display = "block";
        } else {
        editablePlaceholder.style.display = "none";
        }
    });
    </script>
</body>
</html>